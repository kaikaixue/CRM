(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-033344e8"],{4006:function(e,t,a){"use strict";a("d53b")},d53b:function(e,t,a){},f63f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"total"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",[e._v("员工管理")])]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-btn",{attrs:{color:"blue",small:"",dark:""},on:{click:function(t){return e.editItem(i)}}},[e._v("编辑")]),a("v-btn",{staticStyle:{"margin-left":"10px"},attrs:{color:"red",small:"",dark:""},on:{click:function(t){return e.deleteEmployee(i)}}},[e._v("删除")])]}}])}),a("v-dialog",{attrs:{"max-width":"300"},model:{value:e.isDelete,callback:function(t){e.isDelete=t},expression:"isDelete"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("确认删除")])]),a("v-card-text",[e._v("是否确定删除该员工？")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.cancel()}}},[e._v("取消")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.sure()}}},[e._v("确定")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"450px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("编辑")])]),a("v-card-text",[a("v-text-field",{attrs:{readonly:"",label:"员工编号"},model:{value:e.editedItem.id,callback:function(t){e.$set(e.editedItem,"id",t)},expression:"editedItem.id"}})],1),a("v-card-text",[a("v-text-field",{attrs:{readonly:"",label:"员工姓名"},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),a("v-card-text",[a("v-text-field",{attrs:{readonly:"",label:"手机号"},model:{value:e.editedItem.phone,callback:function(t){e.$set(e.editedItem,"phone",t)},expression:"editedItem.phone"}})],1),a("v-card-text",[a("v-text-field",{attrs:{label:"工资"},model:{value:e.editedItem.wages,callback:function(t){e.$set(e.editedItem,"wages",t)},expression:"editedItem.wages"}})],1),a("v-card-text",[a("v-select",{attrs:{label:"部门",items:e.departmentList},model:{value:e.editedItem.department,callback:function(t){e.$set(e.editedItem,"department",t)},expression:"editedItem.department"}})],1),a("v-card-text",[a("v-select",{attrs:{label:"类型",items:e.typeList},model:{value:e.editedItem.type,callback:function(t){e.$set(e.editedItem,"type",t)},expression:"editedItem.type"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.close()}}},[e._v("取消")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.save()}}},[e._v("确定")])],1)],1)],1)],1)},s=[],d=(a("a434"),a("b0c0"),{data:function(){return{headers:[{text:"员工编号",value:"id"},{text:"姓名",value:"name"},{text:"账号",value:"account"},{text:"手机号",value:"phone"},{text:"工资",value:"wages"},{text:"所属部门",value:"department"},{text:"类型",value:"type"},{text:"操作",value:"actions",sortable:!1}],desserts:[],isDelete:!1,editedItem:{id:"",name:"",account:"",phone:"",wages:"",department:"",type:""},editedIndex:-1,dialog:!1,information:{},item:{},departmentList:[],typeList:[]}},created:function(){var e=this;0==localStorage.getItem("marker")?this.$axios({method:"post",url:this.$url+"queryAllUser",data:{marker:1}}).then((function(t){e.desserts=t.data.data})):this.$router.push({name:"404"})},methods:{deleteEmployee:function(e){this.item=e,this.isDelete=!0},cancel:function(){this.isDelete=!1},sure:function(){var e=this.desserts.indexOf(this.item);this.desserts.splice(e,1),this.$axios({method:"post",url:this.$url+"deleteUser",data:{marker:1,userId:this.item.id}}),this.cancel()},editItem:function(e){var t=this;this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.$axios({method:"post",url:this.$url+"queryAllDepartment",data:{}}).then((function(e){for(var a=0;a<e.data.data.length;a++)t.departmentList.push(e.data.data[a].department)})),this.$axios({method:"post",url:this.$url+"queryAllEmployeeType",data:{}}).then((function(e){for(var a=0;a<e.data.data.length;a++)t.typeList.push(e.data.data[a].type)})),this.dialog=!0},close:function(){this.dialog=!1},save:function(){var e=this;this.editedIndex>-1&&(Object.assign(this.desserts[this.editedIndex],this.editedItem),this.$axios({method:"post",url:this.$url+"queryUserId",data:{userId:this.editedItem.id}}).then((function(t){e.information=t.data.data})),this.$axios({method:"post",url:this.$url+"updateUser",data:{account:this.editedItem.account,address:this.information.address,avatar:this.information.address,cred:this.information.cred,department:this.editedItem.department,marker:1,name:this.editedItem.name,password:this.information.password,phone:this.editedItem.phone,salt:this.information.salt,sex:this.information.sex,speed_time:"",type:this.editedItem.type,userId:this.editedItem.id,wages:this.editedItem.wages}})),this.close()}}}),n=d,r=(a("4006"),a("2877")),l=a("6544"),o=a.n(l),c=a("8336"),u=a("b0af"),m=a("99d9"),h=a("8fea"),p=a("169a"),v=a("b974"),f=a("2fa4"),x=a("8654"),I=a("71d9"),b=Object(r["a"])(n,i,s,!1,null,"c8c4312c",null);t["default"]=b.exports;o()(b,{VBtn:c["a"],VCard:u["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VDataTable:h["a"],VDialog:p["a"],VSelect:v["a"],VSpacer:f["a"],VTextField:x["a"],VToolbar:I["a"]})}}]);
//# sourceMappingURL=chunk-033344e8.79b20e34.js.map