{"version":3,"sources":["webpack:///./src/views/employee/workPlan/workPlan.vue?eb80","webpack:///./src/views/employee/workPlan/workPlan.vue?4bb0","webpack:///src/views/employee/workPlan/workPlan.vue","webpack:///./src/views/employee/workPlan/workPlan.vue?678e","webpack:///./src/views/employee/workPlan/workPlan.vue","webpack:///../../../src/components/VToolbar/index.ts"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","headers","desserts","scopedSlots","_u","key","fn","_v","proxy","ref","item","status","staticStyle","on","$event","toView","model","value","callback","$$v","isShow","expression","_s","planId","planName","startTime","endTime","actualPerformance","targetPerformance","product","cancel","summit","staticRenderFns","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VDataTable","VDialog","VSpacer","VToolbar","VToolbarTitle","VToolbarItems"],"mappings":"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","file":"js/chunk-0080a7fe.7abc6e48.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./workPlan.vue?vue&type=style&index=0&id=ab8afc5a&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"total\"},[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.desserts,\"sort-by\":\"actions\"},scopedSlots:_vm._u([{key:\"top\",fn:function(){return [_c('v-toolbar',[_c('v-toolbar-title',[_vm._v(\"工作计划\")])],1)]},proxy:true},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [(!item.status)?_c('v-btn',{attrs:{\"color\":\"blue\",\"small\":\"\",\"width\":\"60px\",\"dark\":\"\"},on:{\"click\":function($event){return _vm.toView(item)}}},[_vm._v(\"提交\")]):_c('h4',{staticStyle:{\"font-weight\":\"400\"}},[_vm._v(\"已提交\")]),_c('v-dialog',{attrs:{\"max-width\":\"300px\"},model:{value:(_vm.isShow),callback:function ($$v) {_vm.isShow=$$v},expression:\"isShow\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"提交计划\")]),_c('v-card-text',[_vm._v(\" 计划编号：\"+_vm._s(_vm.planId)+\" \")]),_c('v-card-text',[_vm._v(\" 计划名称：\"+_vm._s(_vm.planName)+\" \")]),_c('v-card-text',[_vm._v(\" 计划时间：\"+_vm._s(_vm.startTime)+\"~\"+_vm._s(_vm.endTime)+\" \")]),_c('v-card-text',[_vm._v(\" 实际业绩：\"+_vm._s(_vm.actualPerformance)+\" \")]),_c('v-card-text',[_vm._v(\" 计划业绩：\"+_vm._s(_vm.targetPerformance)+\" \")]),_c('v-card-text',[_vm._v(\" 产品：\"+_vm._s(_vm.product)+\" \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"red\",\"text\":\"\"},on:{\"click\":function($event){return _vm.cancel()}}},[_vm._v(\"取消\")]),_c('v-btn',{attrs:{\"color\":\"blue\",\"text\":\"\"},on:{\"click\":function($event){return _vm.summit(item)}}},[_vm._v(\"提交\")])],1)],1)],1)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"total\">\r\n\t\t<v-data-table :headers=\"headers\" :items=\"desserts\" class=\"elevation-1\" sort-by=\"actions\">\r\n\t\t\t<template v-slot:top>\r\n\t\t\t\t<v-toolbar>\r\n\t\t\t\t\t<v-toolbar-title>工作计划</v-toolbar-title>\r\n\t\t\t\t</v-toolbar>\r\n\t\t\t</template>\r\n\t\t\t<template v-slot:item.actions=\"{ item }\">\r\n\t\t\t\t<v-btn color=\"blue\" small width=\"60px\" dark @click=\"toView(item)\" v-if=\"!item.status\">提交</v-btn>\r\n\t\t\t\t<h4 v-else style=\"font-weight: 400;\">已提交</h4>\r\n\t\t\t\t<v-dialog v-model=\"isShow\" max-width=\"300px\">\r\n\t\t\t\t\t<v-card>\r\n\t\t\t\t\t\t<v-card-title>提交计划</v-card-title>\r\n\t\t\t\t\t\t<v-card-text>\r\n\t\t\t\t\t\t\t计划编号：{{planId}}\r\n\t\t\t\t\t\t</v-card-text>\r\n\t\t\t\t\t\t<v-card-text>\r\n\t\t\t\t\t\t\t计划名称：{{planName}}\r\n\t\t\t\t\t\t</v-card-text>\r\n\t\t\t\t\t\t<v-card-text>\r\n\t\t\t\t\t\t\t计划时间：{{startTime}}~{{endTime}}\r\n\t\t\t\t\t\t</v-card-text>\r\n\t\t\t\t\t\t<v-card-text>\r\n\t\t\t\t\t\t\t实际业绩：{{actualPerformance}}\r\n\t\t\t\t\t\t</v-card-text>\r\n\t\t\t\t\t\t<v-card-text>\r\n\t\t\t\t\t\t\t计划业绩：{{targetPerformance}}\r\n\t\t\t\t\t\t</v-card-text>\r\n\t\t\t\t\t\t<v-card-text>\r\n\t\t\t\t\t\t\t产品：{{product}}\r\n\t\t\t\t\t\t</v-card-text>\r\n\t\t\t\t\t\t<v-card-actions>\r\n\t\t\t\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t\t\t\t<v-btn color=\"red\" @click=\"cancel()\" text>取消</v-btn>\r\n\t\t\t\t\t\t\t<v-btn color=\"blue\" @click=\"summit(item)\" text>提交</v-btn>\r\n\t\t\t\t\t\t</v-card-actions>\r\n\t\t\t\t\t</v-card>\r\n\t\t\t\t</v-dialog>\r\n\t\t\t</template>\r\n\t\t</v-data-table>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 控制提交对话框\r\n\t\t\t\tisShow: false,\r\n\t\t\t\t//存放计划id\r\n\t\t\t\tplanId: \"\",\r\n\t\t\t\t// 存放计划名称\r\n\t\t\t\tplanName: \"\",\r\n\t\t\t\t// 计划开始时间\r\n\t\t\t\tstartTime: \"\",\r\n\t\t\t\t//计划结束时间\r\n\t\t\t\tendTime: \"\",\r\n\t\t\t\t// 实际业绩\r\n\t\t\t\tactualPerformance: \"\",\r\n\t\t\t\t//目标业绩\r\n\t\t\t\ttargetPerformance: \"\",\r\n\t\t\t\t// 表头\r\n\t\t\t\theaders: [{\r\n\t\t\t\t\t\ttext: \"计划编号\",\r\n\t\t\t\t\t\tvalue: \"planId\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: \"计划名称\",\r\n\t\t\t\t\t\tvalue: \"planName\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: \"实际利润\",\r\n\t\t\t\t\t\tvalue: \"actualPerformance\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: \"计划利润\",\r\n\t\t\t\t\t\tvalue: \"targetPerformance\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: \"计划结束时间\",\r\n\t\t\t\t\t\tvalue: \"endTime\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: \"操作\",\r\n\t\t\t\t\t\tvalue: \"actions\",\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\t//存放产品名\r\n\t\t\t\tproduct: [],\r\n\t\t\t\t//表体\r\n\t\t\t\tdesserts: [],\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\twatch: {\r\n\t\t\t// 监听对话框是否关闭,如关闭清空产品数组\r\n\t\t\tisShow: function(value) {\r\n\t\t\t\tif (value == false) {\r\n\t\t\t\t\tthis.product.splice(0, this.product.length)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\t// 提交对话框方法\r\n\t\t\ttoView(item) {\r\n\t\t\t\t// 打开提交对话框\r\n\t\t\t\tthis.isShow = true\r\n\t\t\t\t// 得到该条数据的索引\r\n\t\t\t\tconst index = this.desserts.indexOf(item)\r\n\t\t\t\t// 计划id存入planId\r\n\t\t\t\tthis.planId = this.desserts[index].planId\r\n\t\t\t\t// 计划名称存入planName\r\n\t\t\t\tthis.planName = this.desserts[index].planName\r\n\t\t\t\t// 目标业绩存入targetPerformance\r\n\t\t\t\tthis.targetPerformance = this.desserts[index].targetPerformance\r\n\t\t\t\t// 实际业绩存入actualPerformance\r\n\t\t\t\tthis.actualPerformance = this.desserts[index].actualPerformance\r\n\t\t\t\t// 遍历产品表,将产品名存入product数组\r\n\t\t\t\tfor (let i = 0; i < this.desserts[index].productBeanList.length; i++) {\r\n\t\t\t\t\tthis.product.splice(i, 0, this.desserts[index].productBeanList[i].name)\r\n\t\t\t\t}\r\n\t\t\t\t// 开始时间存入startTime\r\n\t\t\t\tthis.startTime = this.desserts[index].startTime\r\n\t\t\t\t// 结束时间存入endTime\r\n\t\t\t\tthis.endTime = this.desserts[index].endTime\r\n\t\t\t},\r\n\r\n\t\t\t// 关闭提交对话框\r\n\t\t\tcancel() {\r\n\t\t\t\tthis.isShow = false\r\n\t\t\t},\r\n\r\n\t\t\t// 确认提交\r\n\t\t\tsummit(item) {\r\n\t\t\t\t// 得到该条数据的索引\r\n\t\t\t\tconst index = this.desserts.indexOf(item)\r\n\t\t\t\t// 将该条数据的状态设为已提交\r\n\t\t\t\tthis.desserts[index].status = true\r\n\t\t\t\t// 请求更新员工计划接口\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\turl: this.$url + 'updateEmployeePlan',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tplanId: this.planId\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t// 关闭确认提交对话框\r\n\t\t\t\tthis.cancel()\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcreated() {\r\n\t\t\t// 判断权限\r\n\t\t\tif (localStorage.getItem(\"marker\") == 1) {\r\n\t\t\t\t// 得到用户id\r\n\t\t\t\tthis.id = localStorage.getItem(\"id\")\r\n\t\t\t\t// 请求查询雇员计划接口\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\turl: this.$url + 'queryEmployeePlan',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\temployeeId: this.id\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\t// 将回参存入表体\r\n\t\t\t\t\tthis.desserts = res.data.data\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// 权限不对,跳转404\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tname: '404'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t* {\r\n\t\tpadding: 0;\r\n\t\tmargin: 0;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.total {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./workPlan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./workPlan.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./workPlan.vue?vue&type=template&id=ab8afc5a&scoped=true&\"\nimport script from \"./workPlan.vue?vue&type=script&lang=js&\"\nexport * from \"./workPlan.vue?vue&type=script&lang=js&\"\nimport style0 from \"./workPlan.vue?vue&type=style&index=0&id=ab8afc5a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ab8afc5a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDataTable,VDialog,VSpacer,VToolbar,VToolbarTitle})\n","// Components\nimport VToolbar from './VToolbar'\n\n// Utilities\nimport { createSimpleFunctional } from '../../util/helpers'\n\nconst VToolbarTitle = createSimpleFunctional('v-toolbar__title')\nconst VToolbarItems = createSimpleFunctional('v-toolbar__items')\n\nexport {\n  VToolbar,\n  VToolbarItems,\n  VToolbarTitle,\n}\n\nexport default {\n  $_vuetify_subcomponents: {\n    VToolbar,\n    VToolbarItems,\n    VToolbarTitle,\n  },\n}\n"],"sourceRoot":""}